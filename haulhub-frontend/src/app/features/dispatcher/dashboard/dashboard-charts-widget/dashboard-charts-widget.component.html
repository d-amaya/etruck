<div class="dashboard-charts-widget" *ngIf="!loading && hasAggregateData()">
  <div class="charts-grid">
    
    <!-- Realized vs Potential Earnings -->
    <mat-card class="chart-card">
      <mat-card-header>
        <mat-card-title>
          <mat-icon>account_balance</mat-icon>
          Realized vs Potential Earnings
        </mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="chart-summary">
          <div class="summary-item profit">
            <span class="label">Total Earnings</span>
            <span class="value">{{ formatCurrency(revenueData.revenue) }}</span>
          </div>
        </div>
        <div class="chart-container">
          <canvas #revenueChart></canvas>
        </div>
      </mat-card-content>
    </mat-card>

    <!-- Order Status Distribution Chart -->
    <mat-card class="chart-card">
      <mat-card-header>
        <mat-card-title>
          <mat-icon>pie_chart</mat-icon>
          Order Status Distribution
        </mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="chart-summary">
          <div class="summary-item">
            <span class="label">Total Orders</span>
            <span class="value">{{ getTotalTrips() }}</span>
          </div>
        </div>
        <div class="chart-container">
          <canvas #statusChart></canvas>
        </div>
      </mat-card-content>
    </mat-card>

    <!-- Top Performers Chart -->
    <mat-card class="chart-card">
      <mat-card-header>
        <mat-card-title>
          <mat-icon>star</mat-icon>
          Top 5 Brokers by Revenue
        </mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="chart-container">
          <canvas #topPerformersChart></canvas>
        </div>
      </mat-card-content>
    </mat-card>

    <!-- Top Carriers Chart -->
    <mat-card class="chart-card">
      <mat-card-header>
        <mat-card-title>
          <mat-icon>local_shipping</mat-icon>
          Top 5 Carriers by Orders
        </mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="chart-container">
          <canvas #expenseChart></canvas>
        </div>
      </mat-card-content>
    </mat-card>

  </div>
</div>

<!-- Empty State -->
<div class="empty-charts" *ngIf="!loading && !hasAggregateData()">
  <mat-icon>insert_chart</mat-icon>
  <p>No data available for charts</p>
  <p class="hint">Create orders to see visual analytics</p>
</div>
