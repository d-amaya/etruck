<div class="charts-widget" *ngIf="!loading && hasData()">
  <div class="charts-grid">
    <!-- Revenue Overview -->
    <mat-card class="chart-card">
      <mat-card-header>
        <mat-card-title>
          <mat-icon>account_balance</mat-icon>
          Revenue Overview
        </mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="chart-container">
          <canvas #revenueChart></canvas>
        </div>
        <div class="chart-summary">
          <div class="summary-item">
            <span class="label">Total Revenue</span>
            <span class="value positive">{{ formatCurrency(revenueData.revenue) }}</span>
          </div>
          <div class="summary-item">
            <span class="label">Admin Profit</span>
            <span class="value" [class.positive]="revenueData.adminProfit >= 0" [class.negative]="revenueData.adminProfit < 0">
              {{ formatCurrency(revenueData.adminProfit) }}
            </span>
          </div>
          <div class="summary-item" *ngIf="revenueData.fees > 0">
            <span class="label">Fees (Lumper + Detention)</span>
            <span class="value negative">{{ formatCurrency(revenueData.fees) }}</span>
          </div>
        </div>
      </mat-card-content>
    </mat-card>

    <!-- Status Distribution -->
    <mat-card class="chart-card">
      <mat-card-header>
        <mat-card-title>
          <mat-icon>pie_chart</mat-icon>
          Order Status ({{ getTotalOrders() }} orders)
        </mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="chart-container">
          <canvas #statusChart></canvas>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
</div>
